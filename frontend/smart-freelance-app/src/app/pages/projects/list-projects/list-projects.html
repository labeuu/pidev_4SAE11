<div class="projects-container">
  <div class="projects-header">
    <h2 class="section-title">Projects List</h2>
    <a routerLink="add" class="btn btn--add-project">
      + Add Project
    </a>
  </div>

  <!-- Loading / Error states -->
  <div class="loading-state" *ngIf="isLoading">
    <p>Loading projects...</p>
    <!-- You can add a nice spinner here later -->
  </div>

  <div class="error-state" *ngIf="errorMessage && !isLoading">
    <p class="error">{{ errorMessage }}</p>
    <button (click)="loadProjects()" class="btn btn--retry">Try Again</button>
  </div>

  <!-- Real projects grid -->
  <div class="projects-grid"
       *ngIf="!isLoading && !errorMessage && projects.length > 0">

    <div class="project-card" *ngFor="let project of projects;">
      <div class="project-content">
        <div class="project-header">
          <h3 class="project-title">{{ project.title }}</h3>
          <span 
            class="project-status" 
            [ngClass]="{
              'status-open': project.status === 'OPEN',
              'status-in-progress': project.status === 'IN_PROGRESS',
              'status-completed': project.status === 'COMPLETED',
              'status-on-hold': project.status === 'CANCELLED'
            }"
          >
            {{ project.status }}
          </span>
        </div>

        <span class="project-category">{{ project.category || 'Uncategorized' }}</span>

        <p class="project-description">
          {{ project.description || 'No description available' }}
        </p>

        <div class="skills-required">
          <!-- split + trim each skill -->
          <span class="skill" *ngFor="let skill of (project.skillsRequiered?.split(',') || [])">
            {{ skill.trim() }}
          </span>

          <span class="skill empty" *ngIf="!project.skillsRequiered?.trim()">
            No skills listed
          </span>
        </div>

        <div class="project-actions">
          <button 
            [routerLink]="[project.id, 'show']" 
            class="btn btn--info" 
            title="View project details"
          >
            Show
          </button>

          <button 
            [routerLink]="[project.id, 'edit']" 
            class="btn btn--update" 
            title="Edit this project"
          >
            Update
          </button>

          <button 
            (click)="deleteProject(project.id!)" 
            class="btn btn--delete" 
            title="Delete this project"
          >
            Delete
          </button>
        </div>
      </div>
    </div>

    <!-- Empty state -->
    <div class="empty-state" 
        *ngIf="!isLoading && !errorMessage && projects.length === 0">
      <p>No projects found.</p>
      <a routerLink="../add" class="btn btn--add-project">Create your first project</a>
    </div>
  </div>
</div>